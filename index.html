<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <style>
            @font-face { font-family: 'MontserratExtraBold'; src: url('Montserrat-ExtraBold.ttf'); }
            @font-face { font-family: 'MontserratSemiBold'; src: url('Montserrat-SemiBold.ttf'); }
            :root { color-scheme: dark; }
            * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
            body { font-family: 'MontserratSemiBold', sans-serif; margin: 0; display: flex; height: 100vh; background: black; color: white; }
            .sidebar { width: 250px; background-image: url('FondoDegradado.png'); background-size: cover; background-position: left center; border-right: 2px solid #ffffff; overflow-y: auto; padding: 10px; flex-shrink: 0; z-index: 10; }
            .week-title { font-family: 'MontserratExtraBold'; padding: 25px 10px 5px; color: white; font-size: 0.9rem; text-transform: uppercase; }
            .tablinks { width: 100%; border: none; background: none; text-align: left; padding: 8px 10px; cursor: pointer; font-size: 0.8rem; font-family: 'MontserratSemiBold', sans-serif; background-image: url('FondoDegradado.png'); background-size: cover; background-clip: text; -webkit-background-clip: text; color: white; transition: 0.2s; }
            .tablinks.active { background: white; color: black; -webkit-background-clip: initial; background-clip: initial; font-family: 'MontserratExtraBold', sans-serif; }
            .main-content { flex-grow: 1; overflow-y: auto; padding: 15px 20px; background-image: url('FondoDegradado.png'); background-size: cover; background-attachment: fixed; }
            .top-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
            .header-controls { display: flex; flex-direction: column; gap: 6px; flex: 1; }
            .title-stack { flex: 2; text-align: center; min-width: 0; }
            .sub-title { font-family: 'MontserratExtraBold'; font-size: 1.05rem; letter-spacing: 1.5px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
            .main-title { font-family: 'MontserratExtraBold'; font-size: 1.4rem; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
            .toggle-btn { background: rgba(255, 255, 255, 0.15); border: 1px solid white; color: white; height: 32px; width: 110px; border-radius: 20px; cursor: pointer; font-size: 0.75rem; font-family: 'MontserratSemiBold', sans-serif; backdrop-filter: blur(5px); text-align: center; box-sizing: border-box; }
            .tables-row { display: flex; gap: 20px; justify-content: center; width: 100%; }
            .main-draw-view, .qual-view, .changes-view { display: flex; gap: 20px; width: 100%; justify-content: center; }
            .table-column { flex: 1; min-width: 280px; max-width: 450px; border: 1px solid rgba(255,255,255,0.35); border-radius: 6px; overflow: hidden; background: rgba(0,0,0,0.2); }
            .entry-table { width: 100%; border-collapse: collapse; color: white; }
            .entry-table th { background: rgba(255, 255, 255, 0.1); padding: 9px 9px; border-bottom: 1px solid rgba(255, 255, 255, 0.25); text-align: center; font-size: 0.8rem; }
            .entry-table td { padding: 6px; border-bottom: 1px solid rgba(255,255,255,0.12); text-align: center; font-size: 0.78rem; }
            .latam-row td { font-family: 'MontserratExtraBold' !important; color: #fff; }
            .logo-container { text-align: center; margin-top: 25px; }
            .pdf-container { flex: 1; display: flex; justify-content: flex-end; }
            .tournament-logo { height: 25px; }
            .spacer { flex: 1; }
            .pdf-btn { width: 60px !important; }
            .is-exporting .header-controls, 
            .is-exporting .pdf-btn,
            .is-exporting .spacer { display: none !important; }
            .is-exporting .top-row { justify-content: center !important; display: flex !important; width: 100% !important; }
            .is-exporting .title-stack { flex: 0 0 100% !important; max-width: 100% !important; margin: 0 auto !important; padding: 0 !important; }
            @media print { .main-content { background: black !important; color: white !important; } }
            @media (max-width: 768px) {
                body { flex-direction: column; }
                .sidebar { width: 100%; height: auto; display: flex; overflow-x: auto; white-space: nowrap; align-items: center; padding: 5px; }
                .week-title { display: inline-block !important; padding: 0 10px !important; margin: 0 !important; font-size: 0.7rem !important; line-height: 1.2 !important; text-align: center !important; max-width: 55px !important; white-space: normal !important; word-spacing: 100px !important; flex-shrink: 0; text-transform: uppercase; }
                .tablinks { width: auto; display: inline-block; padding: 10px 15px; border: 1px solid rgba(255,255,255,0.3); border-radius: 20px; margin-right: 5px; flex-shrink: 0; vertical-align: middle; }
                .main-content { padding: 10px; }
                .tables-row, .main-draw-view, .qual-view, .changes-view { flex-direction: column; align-items: center; }
                .top-row { display: flex !important; flex-direction: row !important; flex-wrap: wrap; justify-content: center !important; height: auto; gap: 8px; }
                .header-controls, .pdf-container { display: contents !important; }
                .toggle-btn { order: 1 !important; margin: 0 !important; }
                .title-stack { order: 2 !important; flex: 0 0 100% !important; width: 100%; text-align: center; margin-top: 10px;}
            }
        </style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    </head>
    <body>
        <div class="sidebar"></div>
        <div class="main-content"></div>
        <script>
            function openTourney(evt, tid) {
                const tc = document.getElementsByClassName("tabcontent");
                for (let i = 0; i < tc.length; i++) tc[i].style.display = "none";
                const tl = document.getElementsByClassName("tablinks");
                for (let i = 0; i < tl.length; i++) tl[i].classList.remove("active");
                document.getElementById(tid).style.display = "block";
                evt.currentTarget.classList.add("active");
            }
            function toggleView(btn) {
                const activeTab = btn.closest('.tabcontent');
                const mainView = activeTab.querySelector('.main-draw-view');
                const qualView = activeTab.querySelector('.qual-view');
                const changesView = activeTab.querySelector('.changes-view');
                const subTitle = activeTab.querySelector('.sub-title');
                if (changesView.style.display === "flex") {
                    changesView.style.display = "none";
                    activeTab.querySelector('.changes-btn').style.display = "block";
                    activeTab.querySelector('.back-to-qual-btn').style.display = "none";
                }
                const isMain = mainView.style.display !== "none";
                mainView.style.display = isMain ? "none" : "flex";
                qualView.style.display = isMain ? "flex" : "none";
                btn.innerText = isMain ? "Main Draw" : "Qualifying";
                subTitle.innerText = isMain ? "QUALIFYING ENTRY LIST" : "MAIN DRAW ENTRY LIST";
            }
            function showChanges(btn, tid) {
                const activeTab = document.getElementById(tid);
                activeTab.querySelector('.main-draw-view').style.display = "none";
                activeTab.querySelector('.qual-view').style.display = "none";
                activeTab.querySelector('.changes-view').style.display = "flex";
                activeTab.querySelector('.sub-title').innerText = "LIST OF CHANGES";
                btn.style.display = "none";
                activeTab.querySelector('.main-qual-toggle').innerText = "Main Draw";
                activeTab.querySelector('.back-to-qual-btn').style.display = "block";
            }
            function showQualFromChanges(btn) {
                const activeTab = btn.closest('.tabcontent');
                activeTab.querySelector('.changes-view').style.display = "none";
                activeTab.querySelector('.qual-view').style.display = "flex";
                activeTab.querySelector('.sub-title').innerText = "QUALIFYING ENTRY LIST";
                btn.style.display = "none";
                activeTab.querySelector('.changes-btn').style.display = "block";
                activeTab.querySelector('.main-qual-toggle').innerText = "Main Draw";
            }
            function exportToPDF() {
                const element = document.querySelector('.main-content');
                document.body.classList.add('is-exporting');
                
                const title = document.querySelector('.main-title').innerText;
                const subTitle = document.querySelector('.sub-title').innerText;
                
                const opt = {
                    margin:       0,
                    filename:     'entry-list.pdf',
                    image:        { type: 'jpeg', quality: 0.98 },
                    html2canvas:  { scale: 1.5, useCORS: true, backgroundColor: '#000000' }, 
                    jsPDF:        { unit: 'mm', format: [418, 244], orientation: 'landscape' }
                };

                html2pdf().set(opt).from(element).save().then(() => {
                    document.body.classList.remove('is-exporting');
                });
            }
        </script>
    </body>
    </html>